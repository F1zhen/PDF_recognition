üßæ Digital Document Inspector
–î–µ—Ç–µ–∫—Ü–∏—è —à—Ç–∞–º–ø–æ–≤, –ø–æ–¥–ø–∏—Å–µ–π –∏ QR-–∫–æ–¥–æ–≤ –≤ —Å–∫–∞–Ω–∞—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

‚ú¶ –•–∞–∫–∞—Ç–æ–Ω: CV / Document Analysis
‚ú¶ –ö–æ–º–∞–Ω–¥–∞: OnlyFriends

‚ö° –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ inference (–ø–æ–ª—É—á–µ–Ω–∏–µ JSON + –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏)

–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–Ω—Ñ–µ—Ä–µ–Ω—Å –∏ –ø–æ–ª—É—á–∏—Ç—å –∏—Ç–æ–≥–æ–≤—ã–π JSON –±–µ–∑ –∑–∞–ø—É—Å–∫–∞ backend, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç:

1Ô∏è‚É£ –ü–æ–ª–æ–∂–∏—Ç–µ PDF-—Ñ–∞–π–ª—ã –≤:
data/input_pdfs/


–ù–∞–ø—Ä–∏–º–µ—Ä:

data/input_pdfs/document1.pdf

2Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–Ω—Ñ–µ—Ä–µ–Ω—Å:
python -m main_infer --pdf data/input_pdfs


–ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª:

python -m main_infer --pdf data/input_pdfs/document1.pdf

3Ô∏è‚É£ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

‚ñ´ JSON —Å –¥–µ—Ç–µ–∫—Ü–∏—è–º–∏:

data/outputs/json/predictions.json


‚ñ´ PNG-–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã:

data/outputs/viz/_page_0001_viz.png


–ò–Ω—Ñ–µ—Ä–µ–Ω—Å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π ‚Äî –æ–Ω —Å–∞–º:

—á–∏—Ç–∞–µ—Ç PDF,

–∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è,

–∑–∞–ø—É—Å–∫–∞–µ—Ç EnsembleDetector,

–¥–µ–ª–∞–µ—Ç crop-–¥–µ—Ç–µ–∫—Ü–∏–∏,

–ø—Ä–∏–º–µ–Ω—è–µ—Ç NMS,

—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ç–æ–≥–æ–≤—ã–π JSON.



üìå –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

Digital Document Inspector ‚Äî —ç—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (—Å–∫–∞–Ω–æ–≤, —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π, PDF), –∫–æ—Ç–æ—Ä–æ–µ —É–º–µ–µ—Ç:

üîµ –Ω–∞—Ö–æ–¥–∏—Ç—å —à—Ç–∞–º–ø—ã

‚úíÔ∏è –Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ–¥–ø–∏—Å–∏

üî≥ –Ω–∞—Ö–æ–¥–∏—Ç—å QR-–∫–æ–¥—ã / —à—Ç—Ä–∏—Ö–∫–æ–¥—ã

üß© –Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ–¥–ø–∏—Å–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –ø–µ—á–∞—Ç–µ–π

üìÑ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ü–µ–ª–µ–≤–æ–π JSON-—Ñ–æ—Ä–º–∞—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏—è ‚Äî –¥–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è –ø–æ–¥–ø–∏—Å–∏, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ–¥–ø–∏—Å–∏ –¥–∞–∂–µ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ –æ–Ω–∏:

–Ω–∞—Ä–∏—Å–æ–≤–∞–Ω—ã –ø–æ–≤–µ—Ä—Ö –ø–µ—á–∞—Ç–∏,

—á–∞—Å—Ç–∏—á–Ω–æ –∑–∞–∫—Ä—ã—Ç—ã —Ç–µ–∫—Å—Ç—É—Ä–æ–π –ø–µ—á–∞—Ç–∏,

–ø–ª–æ—Ö–æ –≤–∏–¥–Ω—ã –Ω–∞ –∏—Å—Ö–æ–¥–Ω–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ.

–≠—Ç–æ –∫–ª—é—á–µ–≤–æ–π –∫–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π –æ–±—ã—á–Ω—ã–µ YOLO-–º–æ–¥–µ–ª–∏ –Ω–µ —Ä–µ—à–∞—é—Ç.

üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è
1Ô∏è‚É£ –î–µ—Ç–µ–∫—Ç–æ—Ä —à—Ç–∞–º–ø–æ–≤ (StampDetector)

YOLOv8-–º–æ–¥–µ–ª—å, –æ–±—É—á–µ–Ω–Ω–∞—è —Ç–æ–ª—å–∫–æ –Ω–∞ —à—Ç–∞–º–ø–∞—Ö.

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –ª–æ–∫–∞–ª–∏–∑–∞—Ç–æ—Ä –æ–±–ª–∞—Å—Ç–µ–π, –≤–Ω—É—Ç—Ä–∏ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –ø–æ–¥–ø–∏—Å—å.

2Ô∏è‚É£ –î–µ—Ç–µ–∫—Ç–æ—Ä –ø–æ–¥–ø–∏—Å–∏ (–¥–≤–∞ —Ä–µ–∂–∏–º–∞)

–£ –Ω–∞—Å –µ—Å—Ç—å –¥–≤–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–µ—Ç–µ–∫—Ü–∏–∏ –ø–æ–¥–ø–∏—Å–∏:

–î–µ—Ç–µ–∫—Ç–æ—Ä	–ì–¥–µ —Ä–∞–±–æ—Ç–∞–µ—Ç	–ó–∞—á–µ–º
signature_global	–Ω–∞ –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ	–Ω–∞—Ö–æ–¥–∏—Ç –æ–±—ã—á–Ω—ã–µ –ø–æ–¥–ø–∏—Å–∏
signature_in_stamp	–Ω–∞ crop-–ø–∞—Ç—á–∞—Ö —à—Ç–∞–º–ø–∞	–Ω–∞—Ö–æ–¥–∏—Ç —Ç–æ–Ω–∫–∏–µ –ø–æ–¥–ø–∏—Å–∏ –≤–Ω—É—Ç—Ä–∏ –ø–µ—á–∞—Ç–µ–π

–ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É –º—ã –ª–æ–≤–∏–º –ø–æ–¥–ø–∏—Å–∏, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ—Å–≤–µ—á–∏–≤–∞—é—Ç —á–µ—Ä–µ–∑ –ø–µ—á–∞—Ç—å.

3Ô∏è‚É£ –î–µ—Ç–µ–∫—Ç–æ—Ä QR / —à—Ç—Ä–∏—Ö–∫–æ–¥–∞ (QrDetector)

YOLO-–º–æ–¥–µ–ª—å –¥–ª—è QR –∏ barcode.

4Ô∏è‚É£ Ensemble-–∞–≥—Ä–µ–≥–∞—Ç–æ—Ä (EnsembleDetector)

–û–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ç—Ä–∏ –º–æ–¥–µ–ª–∏ –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ post-processing:

‚úî —Å–æ–±–∏—Ä–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—Å–µ—Ö –¥–µ—Ç–µ–∫—Ç–æ—Ä–æ–≤

‚úî –¥–µ–ª–∞–µ—Ç crop-–¥–µ—Ç–µ–∫—Ü–∏—é –≤–Ω—É—Ç—Ä–∏ –ø–µ—á–∞—Ç–µ–π

‚úî –≤—ã–ø–æ–ª–Ω—è–µ—Ç NMS –ø–æ –∫–ª–∞—Å—Å–∞–º

‚úî —Å—Ç–∞–≤–∏—Ç —Ñ–ª–∞–≥ "stamp_with_signature": true, –µ—Å–ª–∏ –ø–æ–¥–ø–∏—Å—å –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç –ø–µ—á–∞—Ç—å

‚úî –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –µ–¥–∏–Ω–æ–º—É JSON-—Ñ–æ—Ä–º–∞—Ç—É

üîÑ Pipeline —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è

PDF ‚Üí split –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã ‚Üí PNG ‚Üí EnsembleDetector ‚Üí JSON + –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

–ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º:

–®–∞–≥ 1. –î–µ—Ç–µ–∫—Ç–∏—Ä—É–µ–º —à—Ç–∞–º–ø—ã, –ø–æ–¥–ø–∏—Å–∏ –∏ QR-–∫–æ–¥—ã –Ω–∞ –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ:

sigs_global = signature_global.predict()
stamps = stamp.predict()
qrs = qr.predict()


–®–∞–≥ 2. –î–ª—è –∫–∞–∂–¥–æ–π –ø–µ—á–∞—Ç–∏ ‚Üí –¥–µ–ª–∞–µ–º crop
–ò–∑–≤–ª–µ–∫–∞–µ–º –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫ –æ–±–ª–∞—Å—Ç–∏ —à—Ç–∞–º–ø–∞.

–®–∞–≥ 3. –ù–∞ —ç—Ç–æ–º crop‚Äô–µ –∑–∞–ø—É—Å–∫–∞–µ–º –≤—Ç–æ—Ä–æ–π SignatureDetector
–≠—Ç–æ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ø–æ–¥–ø–∏—Å–∏ –∏ —É–±–∏—Ä–∞–µ—Ç –ª–∏—à–Ω–∏–π —à—É–º.

–®–∞–≥ 4. –°–∫–ª–µ–∏–≤–∞–µ–º –ø–æ–¥–ø–∏—Å–∏ –∏–∑:

–≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞

crop-–¥–µ—Ç–µ–∫—Ç–æ—Ä–∞

–ü—Ä–∏–º–µ–Ω—è–µ–º NMS.

–®–∞–≥ 5. –°–æ—Ö—Ä–∞–Ω—è–µ–º JSON + PNG-–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é.

‚öôÔ∏è Backend / ML: —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:

python -m venv venv
# Linux/Mac
source venv/bin/activate
# Windows
venv\Scripts\activate


–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–µ—Å–ª–∏ requirements.txt —É–∂–µ –µ—Å—Ç—å):

pip install -r requirements.txt


–ï—Å–ª–∏ —Ñ–∞–π–ª–∞ requirements.txt –Ω–µ—Ç, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é (—Å–º. —Å–ø–∏—Å–æ–∫ –Ω–∏–∂–µ).

üöÄ –ó–∞–ø—É—Å–∫ backend / ML-—Å–µ—Ä–≤–∏—Å–∞

–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ (—Å–º. –≤—ã—à–µ).

–ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é backend/ (–µ—Å–ª–∏ –µ—Å—Ç—å –æ—Ç–¥–µ–ª—å–Ω–∞—è –ø–∞–ø–∫–∞) –∏–ª–∏ –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞, –≥–¥–µ –ª–µ–∂–∏—Ç main.py FastAPI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–ó–∞–ø—É—Å—Ç–∏—Ç—å Uvicorn –Ω–∞ –ø–æ—Ä—Ç—É 8089:

uvicorn app:app --host 0.0.0.0 --port 8089


–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ backend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É, –Ω–∞–ø—Ä–∏–º–µ—Ä:
http://localhost:8089

(–§—Ä–æ–Ω—Ç–µ–Ω–¥ –º–æ–∂–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —ç—Ç–æ–º—É –ø–æ—Ä—Ç—É –¥–ª—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞ ML.)

üåê –ó–∞–ø—É—Å–∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

–ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É —Ñ—Ä–æ–Ω—Ç–∞:

cd frontend


–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫):

npm install


–ó–∞–ø—É—Å—Ç–∏—Ç—å dev-—Å–µ—Ä–≤–µ—Ä:

npm run dev


–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ñ—Ä–æ–Ω—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω, –Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ http://localhost:5173 (–∏–ª–∏ –¥—Ä—É–≥–æ–º –ø–æ—Ä—Ç—É, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–¥–∞–µ—Ç Vite/Next –∏ —Ç.–¥., –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–µ–∫–∞).

üì§ –§–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–Ω–æ–≥–æ JSON

–ü—Ä–∏–º–µ—Ä:

{
  "document1.pdf": {
    "page_1": {
      "size": [2480, 3508],
      "detections": [
        {
          "category": "stamp",
          "bbox": [345, 820, 510, 510],
          "score": 0.92,
          "stamp_with_signature": true
        },
        {
          "category": "signature",
          "bbox": [430, 900, 300, 120],
          "score": 0.38,
          "source": "signature_in_stamp"
        },
        {
          "category": "qr",
          "bbox": [1900, 3100, 350, 350],
          "score": 0.88
        }
      ]
    }
  }
}

üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (requirements.txt)
ultralytics==8.3.0
numpy
opencv-python
pillow
pymupdf          # –¥–ª—è PDF ‚Üí –∫–∞—Ä—Ç–∏–Ω–∫–∏ (fitz)
pyyaml
torch
fastapi
uvicorn
python-multipart
tqdm


(–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Å—é–¥–∞ –ª—é–±—ã–µ –¥–æ–ø. –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–æ —Ñ—Ä–æ–Ω—Ç–µ/–±—ç–∫–µ.)

üß† –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞

‚úî 1. –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è –ø–æ–¥–ø–∏—Å–∏
–ï—Å–ª–∏ –æ–±—ã—á–Ω–∞—è YOLO –ø–æ–¥–ø–∏—Å—å –≤–Ω—É—Ç—Ä–∏ –ø–µ—á–∞—Ç–∏ –Ω–µ –≤–∏–¥–∏—Ç ‚Üí crop-–¥–µ—Ç–µ–∫—Ç–æ—Ä –µ—ë —É–≤–∏–¥–∏—Ç.

‚úî 2. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–ª–∞–±—ã—Ö –ø–æ–¥–ø–∏—Å–µ–π
–ù–∞ crop-–¥–µ—Ç–µ–∫—Ç–æ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º –º–µ–Ω—å—à–∏–π –ø–æ—Ä–æ–≥ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 0.10).

‚úî 3. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —à—É–º–Ω—ã–º–∏ –ø–µ—á–∞—Ç—è–º–∏
–ü–µ—á–∞—Ç—å –Ω–µ –º–µ—à–∞–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –º—ã —Å–º–æ—Ç—Ä–∏–º –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π —Ñ—Ä–∞–≥–º–µ–Ω—Ç.

‚úî 4. –ß–∏—Å—Ç—ã–π JSON –∏ —Ñ–ª–∞–≥ "stamp_with_signature"
–í–∞–∂–Ω–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.

‚ù§Ô∏è –ö–æ–Ω—Ç–∞–∫—Ç—ã –∫–æ–º–∞–Ω–¥—ã

@F1zhen ‚Äî ML

@x_ae_yedil ‚Äî Back-End

@batyr_sk ‚Äî Front-End

